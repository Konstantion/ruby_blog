<div class="container mt-5">
  <h1>Editing Post</h1>

  <% if notice %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <%= notice %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% elsif alert %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <%= alert %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>

  <div class="card mb-4">
    <div class="card-body">
      <%= form_with(model: @post, local: true, html: { class: "edit-post-form" }) do |form| %>
        <div class="mb-3">
          <%= form.label :title, "Title", class: "form-label" %>
          <%= form.text_field :title, class: "form-control", placeholder: "Enter post title" %>
          <% if @post.errors[:title].any? %>
            <div class="text-danger">
              <%= @post.errors[:title].first %>
            </div>
          <% end %>
        </div>

        <div class="mb-3">
          <%= form.label :body, "Body", class: "form-label" %>
          <%= form.text_area :body, class: "form-control", rows: 5, placeholder: "Enter post body" %>
          <% if @post.errors[:body].any? %>
            <div class="text-danger">
              <%= @post.errors[:body].first %>
            </div>
          <% end %>
        </div>

        <div class="d-flex justify-content-end">
          <%= form.submit "Update Post", class: "btn btn-success me-2" %>
          <%= link_to "Cancel", @post, class: "btn btn-secondary" %>
        </div>
      <% end %>
    </div>
  </div>

  <div>
    <%= link_to "Show this post", @post, class: "btn btn-outline-primary me-2" %>
    <%= link_to "Back to posts", posts_path, class: "btn btn-outline-secondary" %>
  </div>
</div>

